<!DOCTYPE html>
<html lang="ja" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>mri.com-user:mxe:nest</title>
<meta name="generator" content="DokuWiki"/>
<meta name="theme-color" content="#008800"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="mri.com-user,mxe,nest"/>
<!--[if gte IE 9]><!-->
<script >/*<![CDATA[*/var NS='mri.com-user:mxe';var JSINFO = {"id":"mri.com-user:mxe:nest","namespace":"mri.com-user:mxe","ACT":"export_xhtml","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<link rel="stylesheet" type="text/css" href="standard.css">
<script charset="utf-8" src="/~ocpublic/wiki/lib/exe/jquery.php?tseed=34a552433bc33cc9c3bc32527289a0b2" defer="defer"></script>
<script charset="utf-8" src="/~ocpublic/wiki/lib/exe/js.php?t=dokuwiki&amp;tseed=1ba1ca9e5699c4cd37eb1cb4bdf6d000" defer="defer"></script>
<!--<![endif]-->
</head>
<body>
<div class="dokuwiki export">
<div class="level1"><a href="index.html">MRI.COM</a></div>
<!-- TOC START -->
<div id="dw__toc" class="dw__toc">
<h3 class="toggle">目次</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#prep_nest">prep/nest</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#内容">内容</a></div></li>
<li class="level2"><div class="li"><a href="#注意">注意</a></div></li>
<li class="level2"><div class="li"><a href="#格子定義">格子定義</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#namelistnestから読み込むもの">namelist.nestから読み込むもの</a></div></li>
<li class="level3"><div class="li"><a href="#mkngridsf90において計算されるもの">mkngrids.F90において計算されるもの</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="prep_nest">prep/nest</h1>
<div class="level1">

<p>
ネスト実験の子モデルを作成する
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;prep\/nest&quot;,&quot;hid&quot;:&quot;prep_nest&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-72&quot;} -->
<h2 class="sectionedit2" id="内容">内容</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">ディレクトリ</th><th class="col1">内容</th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"><a href="./mri.com-user_mxe_topo.html" class="wikilink1" title="mri.com-user_mxe_topo" data-wiki-id="mri.com-user_mxe_topo">topo</a></td><td class="col1">グリッドと地形を作る</td>
	</tr>
	<tr class="row2">
		<td class="col0"><a href="./mri.com-user_mxe_remap.html" class="wikilink1" title="mri.com-user_mxe_remap" data-wiki-id="mri.com-user_mxe_remap">remap</a></td><td class="col1">親モデルと子モデルの変換テーブルを作る (オンラインのみ)</td>
	</tr>
	<tr class="row3">
		<td class="col0"><a href="./mri.com-user_mxe_clim.html" class="wikilink1" title="mri.com-user_mxe_clim" data-wiki-id="mri.com-user_mxe_clim">clim</a></td><td class="col1">親モデル実験結果から子モデルの気候値データを作る (ナッジングを行う場合)</td>
	</tr>
	<tr class="row4">
		<td class="col0">prep/nest/offline/</td><td class="col1">親モデル実験結果から側面境界データを作る (オフラインのみ)</td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;93-479&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u5185\u5bb9&quot;,&quot;hid&quot;:&quot;\u5185\u5bb9&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;73-481&quot;} -->
<h2 class="sectionedit4" id="注意">注意</h2>
<div class="level2">

<p>
今のところ、親モデル、子モデルとも極座標の場合のみに対応
</p>

<p>
（ただし、親モデルがtripolarの場合、極座標の領域を親に使うのは可能）
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u6ce8\u610f&quot;,&quot;hid&quot;:&quot;\u6ce8\u610f&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;482-685&quot;} -->
<h2 class="sectionedit5" id="格子定義">格子定義</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u683c\u5b50\u5b9a\u7fa9&quot;,&quot;hid&quot;:&quot;\u683c\u5b50\u5b9a\u7fa9&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;686-709&quot;} -->
<h3 class="sectionedit6" id="namelistnestから読み込むもの">namelist.nestから読み込むもの</h3>
<div class="level3">

<p>
サブモデルのコア領域 (should be defined at T-points)
</p>
<pre class="code">ybed+-----------------------+
    |    core region        |
    |     of sub model      |
ybst+-----------------------+
   xbst                   xbed</pre>

<p>
横境界でのネスティングに関するフラグ
</p>
<pre class="code">ioutw, ioute, iouts, ioutn
    1: variables at boundary are given from parent model
    0: not</pre>

<p>
�
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;namelist.nest\u304b\u3089\u8aad\u307f\u8fbc\u3080\u3082\u306e&quot;,&quot;hid&quot;:&quot;namelistnest\u304b\u3089\u8aad\u307f\u8fbc\u3080\u3082\u306e&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;710-1143&quot;} -->
<h3 class="sectionedit7" id="mkngridsf90において計算されるもの">mkngrids.F90において計算されるもの</h3>
<div class="level3">

<p>
親モデルにおけるネスト領域の指定。
(ifst:ifed, jfst:jfed) の範囲が内挿に使われる。
</p>
<pre class="code">jfed +----------------------------------+
     | jbed+-----------------------+    |
     |     |    core region        |    |
     |     |     of sub model      |    |
     | jbst+-----------------------+    |
     |    ibst                   ibed   |
jfst +----------------------------------+
    ifst                               ifed</pre>

<p>
子モデル格子から親モデル格子へのインデックス： indx, jndx
</p>

<p>
子モデル格子による親モデル格子の分割数： irt,jrt
</p>
<pre class="code">                ifst ibst
      indx(i) :   5   6   7   8   (parent)
                   -+---+---+---+
           i  :    1 234 567 89   (child)
  irt(indx(i)):   3   3   3   3   (parent)</pre>

<p>
子モデルの東（西）端[2＋ieast（iwest）]格子の水深は親モデルと同じにする
</p>

<p>
（topo_parent=2 の場合）  
</p>
<pre class="code">     |&lt;- iwest -&gt;|         |&lt;- ieast -&gt;| 2
   xx|xxxxx|xxxxx|rrr...rrr|xxxxx|xxxxx|xx
   1              *       *              ifn
     r:replaced, x:not,   *-*: iloops-iloope</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;mkngrids.F90\u306b\u304a\u3044\u3066\u8a08\u7b97\u3055\u308c\u308b\u3082\u306e&quot;,&quot;hid&quot;:&quot;mkngridsf90\u306b\u304a\u3044\u3066\u8a08\u7b97\u3055\u308c\u308b\u3082\u306e&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;1144-&quot;} --></div>
</body>
</html>
